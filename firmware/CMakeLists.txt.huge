add_executable(nanoaltair.elf
  altair_main.c
  callbacks.c
    ../libs/common/config/config.h
  ../libs/common/config/config.c
  ../libs/common/sys/atomic_lock.h
  ../libs/common/sys/switches.c
  ../libs/common/sys/spi.c
  ../libs/common/sys/log.h
  ../libs/common/sys/switches.h
  ../libs/common/sys/usb.c
  ../libs/common/sys/profiler.c
  ../libs/common/sys/profiler.h
  ../libs/common/sys/log.c
  ../libs/common/sys/arm/filesystem.c
  ../libs/common/sys/hw_timer.c
  ../libs/common/sys/buffer.c
  ../libs/common/sys/timer.h
  ../libs/common/sys/spi.h
  ../libs/common/sys/buffer.h
  ../libs/common/sys/hw_timer.h
  ../libs/common/sys/filesystem.h
  ../libs/common/sys/usb.h
  ../libs/common/sys/syscalls.c
  ../libs/altair8800/88dcdd.h
  ../libs/altair8800/serial.c
  ../libs/altair8800/intel8080.h
  ../libs/altair8800/88dcdd.c
  ../libs/altair8800/serial.h
  ../libs/altair8800/roms.h
  ../libs/altair8800/roms.c
  ../libs/altair8800/memory.c
  ../libs/altair8800/memory.h
  ../libs/altair8800/irq_controller.h
  ../libs/altair8800/irq_controller.c
  ../libs/altair8800/intel8080.c
  ../libs/altair8800/op_codes.h
  ../libs/stm32cube/startup_stm32l496xx.s
  ../libs/stm32cube/FATFS/App/fatfs.c
  ../libs/stm32cube/FATFS/App/fatfs.h
  ../libs/stm32cube/FATFS/Target/ffconf.h
  ../libs/stm32cube/FATFS/Target/fatfs_platform.h
  ../libs/stm32cube/FATFS/Target/fatfs_platform.c
  ../libs/stm32cube/FATFS/Target/sd_diskio.h
  ../libs/stm32cube/FATFS/Target/bsp_driver_sd.c
  ../libs/stm32cube/FATFS/Target/bsp_driver_sd.h
  ../libs/stm32cube/FATFS/Target/sd_diskio.c
  ../libs/stm32cube/Core/Inc/stm32l4xx_it.h
  ../libs/stm32cube/Core/Inc/stm32l4xx_hal_conf.h
  ../libs/stm32cube/Core/Inc/main.h
  ../libs/stm32cube/Core/Src/system_stm32l4xx.c
  ../libs/stm32cube/Core/Src/stm32l4xx_it.c
  ../libs/stm32cube/Core/Src/main.c
  ../libs/stm32cube/Core/Src/stm32l4xx_hal_msp.c
  ../libs/stm32cube/USB_DEVICE/App/usbd_desc.c
  ../libs/stm32cube/USB_DEVICE/App/usbd_cdc_if.c
  ../libs/stm32cube/USB_DEVICE/App/usb_device.c
  ../libs/stm32cube/USB_DEVICE/App/usbd_cdc_if.h
  ../libs/stm32cube/USB_DEVICE/App/usb_device.h
  ../libs/stm32cube/USB_DEVICE/App/usbd_desc.h
  ../libs/stm32cube/USB_DEVICE/Target/usbd_conf.h
  ../libs/stm32cube/USB_DEVICE/Target/usbd_conf.c
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/diskio.c
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/ff_gen_drv.c
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/option/syscall.c
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/option/ccsbcs.c
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/ff_gen_drv.h
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/integer.h
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/diskio.h
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/ff.c
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src/ff.h
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_core.h
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ctlreq.h
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ioreq.h
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_ioreq.c
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_ctlreq.c
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Src/usbd_core.c
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc/usbd_cdc.h
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Src/usbd_cdc.c
  ../libs/stm32cube/Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h
  ../libs/stm32cube/Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h
  ../libs/stm32cube/Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l496xx.h
  ../libs/stm32cube/Drivers/CMSIS/Include/cmsis_compiler.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm23.h
  ../libs/stm32cube/Drivers/CMSIS/Include/cmsis_iccarm.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_sc300.h
  ../libs/stm32cube/Drivers/CMSIS/Include/mpu_armv7.h
  ../libs/stm32cube/Drivers/CMSIS/Include/cmsis_armclang_ltm.h
  ../libs/stm32cube/Drivers/CMSIS/Include/tz_context.h
  ../libs/stm32cube/Drivers/CMSIS/Include/cmsis_gcc.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm33.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm35p.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm7.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm0.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm3.h
  ../libs/stm32cube/Drivers/CMSIS/Include/mpu_armv8.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm4.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm0plus.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_armv81mml.h
  ../libs/stm32cube/Drivers/CMSIS/Include/cmsis_version.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_sc000.h
  ../libs/stm32cube/Drivers/CMSIS/Include/cmsis_armclang.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_armv8mbl.h
  ../libs/stm32cube/Drivers/CMSIS/Include/cmsis_armcc.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_cm1.h
  ../libs/stm32cube/Drivers/CMSIS/Include/core_armv8mml.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_exti.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_tim.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/Legacy/stm32_hal_legacy.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_pwr_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_tim_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_sdmmc.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rcc_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rcc.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_pwr.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_usb.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash_ramfunc.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_sd_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_cortex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_pcd_ex.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_pcd.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_sd.h
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_pwr.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_exti.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_i2c_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_sdmmc.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_flash.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_flash_ramfunc.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_rcc.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_tim_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_pwr_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_pcd_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_gpio.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_pcd.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_i2c.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_rcc_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_tim.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_cortex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_dma_ex.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_dma.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal.c
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_flash_ex.c)

target_include_directories(nanoaltair.elf PUBLIC ../libs/common/)
target_include_directories(nanoaltair.elf PUBLIC ../libs/)
target_include_directories(nanoaltair.elf PUBLIC
  ../libs/stm32cube/FATFS/Target
  ../libs/stm32cube/FATFS/App
  ../libs/stm32cube/USB_DEVICE/App
  ../libs/stm32cube/USB_DEVICE/Target
  ../libs/stm32cube/Core/Inc
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc
  ../libs/stm32cube/Drivers/STM32L4xx_HAL_Driver/Inc/Legacy
  ../libs/stm32cube/Middlewares/Third_Party/FatFs/src
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Core/Inc
  ../libs/stm32cube/Middlewares/ST/STM32_USB_Device_Library/Class/CDC/Inc
  ../libs/stm32cube/Drivers/CMSIS/Device/ST/STM32L4xx/Include
  ../libs/stm32cube/Drivers/CMSIS/Include
  ../libs/stm32cube/Drivers/CMSIS/Include)

target_link_libraries(nanoaltair.elf c m nosys)
