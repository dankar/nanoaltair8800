<!DOCTYPE html>
<html>
  <head>
    <title>nanoaltair.io</title>
    <style>
	  html { height: 100%; }
      body { margin: 0; height:100%; width: 100%; font-family: monospace; }

	  #window { 
		  width: 100%;
		  height: 100%;
	  }
	  
      #messages { margin: 0; padding: 0; white-space: pre; }
	  #button_div {
		  position: fixed;
		  bottom: 10%;
		  right: 10%;
	  }
	  .control_button {
	
	  }
    </style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
  </head>
  <body>
	<div id="window">
      <div id="terminal"></div>
	  <div id="button_div">
		<button id="reset_button" class="control_button">
		  Reset
		</button>
	  </div>
	</div>
	
	<script src="/socket.io/socket.io.js"></script>
	<script src="node_modules/xterm/lib/xterm.js"></script>
	<script>
	  var term = new Terminal();
      term.open(document.getElementById('terminal'));
  
	  var terminal_socket = io();

	  terminal_socket.on('TERM', function(msg) {
		term.write(msg.toString());
	  });

	  term.onData(e => {
		terminal_socket.emit('TERM', e);
      });

	  $("#reset_button").click(function(){
		$.ajax({url: "/control/reset"});
	  });
	</script>
  </body>
</html>
